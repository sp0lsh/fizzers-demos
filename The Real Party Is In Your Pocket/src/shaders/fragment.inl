#pragma data_seg(".shader")
const char* fragment =
 "#version 130\n"
 "float v(float v,float m,float y)"
 "{"
   "y=4.1/y;"
   "float x=clamp(.5+.5*(m-v)/y,0,1);"
   "return mix(m,v,x)-y*x*(1-x);"
 "}"
 "float m(float y,float x,float m)"
 "{"
   "return-v(-y,-x,m);"
 "}"
 "mat2 m(float m)"
 "{"
   "return mat2(cos(m),sin(m),-sin(m),cos(m));"
 "}"
 "float m(vec3 m,vec3 v)"
 "{"
   "vec3 l=abs(m)-v;"
   "return length(max(l,vec3(0)))+min(max(l.z,max(l.x,l.y)),0);"
 "}"
 "float v(vec2 v,vec2 l)"
 "{"
   "return m(vec3(v,0),vec3(l,1));"
 "}"
 "float n(vec2 m,vec2 v,vec2 y)"
 "{"
   "return length(m-mix(v,y,clamp(dot(m-v,normalize(y-v))/length(y-v),0,1)));"
 "}"
 "float m(in vec2 m,in vec2 v,in vec2 l,in vec2 y)"
 "{"
   "float a=10000,x;"
   "for(int i=0;i<16;++i)"
     "x=float(i)/15,a=min(a,length(m-mix(mix(v,l,x),mix(l,y,x),x)));"
   "return a;"
 "}"
 "float n(vec2 m)"
 "{"
   "float l=10000;"
   "m.x-=m.y*.11;"
   "vec2 i=m-vec2(-.26,0);"
   "i.x=min(-i.x,0);"
   "l=min(l,max(-m.x-.26,abs(length(i*vec2(.9,1))-.022)-.006));"
   "l=min(l,v(m-vec2(-.265,0),vec2(.006,.0278)));"
   "vec2 y=m;"
   "y.x-=-.16;"
   "y.x=abs(y.x);"
   "l=min(l,v(y-vec2(y.y/4+.004,0),vec2(.006,.028)));"
   "l=min(l,v(y-vec2(-y.y/3.5+.02,0),vec2(.007,.028)));"
   "m.x+=.1;"
   "l=min(l,v(m-vec2(-.12,0),vec2(.006,.028)));"
   "l=min(l,v(m-vec2(-.11,0),vec2(.014,.007)));"
   "l=min(l,v(m-vec2(-.11,.021),vec2(.016,.007)));"
   "l=min(l,v(m-vec2(-.11,-.021),vec2(.014,.007)));"
   "m.x-=.1;"
   "l=min(l,abs(length((m-vec2(-.106,0))*vec2(1,.8))-.017)-.0055);"
   "l=min(l,v(m-vec2(-.07,0),vec2(.006,.02)));"
   "l=min(l,max(-m.x-.076,abs(length(vec2(max(m.x+.055,0),abs(m.y)-.011))-.011)-.0059));"
   "l=min(l,abs(length((m-vec2(-.014,0))*vec2(1,.8))-.017)-.0055);"
   "m.x-=.023;"
   "m.x=abs(m.x);"
   "m.x-=max(m.y/2+.002,0);"
   "l=min(l,v(m-vec2(0,0),vec2(.0065,.028)));"
   "return l;"
 "}"
 "float v(vec2 l)"
 "{"
   "return l*=1.05,max(max(min(min(min(v(max(min(min(max(min(min(min(min(max(min(min(max(max(min(length((l-vec2(-.11,.01))*vec2(1,1.3))-.016,length(vec2(l.x+.11,max(0,abs(l.y+.02)-.009))*vec2(.8,1))-.013),-(length(vec2(l.x+.112,max(0,abs(l.y-.009)-.004)))-.005)),-(length(vec2(l.x+.112,max(0,abs(l.y+.015)-.007)))-.005)),v(l-vec2(-.122,0),vec2(.007,.022))),max(-(length(vec2(l.x+.074,max(0,abs(l.y+.006)-.006)))-.005),length((l-vec2(-.074,-.006))*vec2(.9,1))-.015)),-v(l-vec2(-.06,-.008),vec2(.01,.002))),v(l-vec2(-.075,-.0039),vec2(.01,.002))),v(vec2(abs(l.x+.037)-.01-l.y/2.2,l.y+.006),vec2(.006,.015))),v(l-vec2(-.006,0),vec2(.007,.022))),v(l-vec2(.045,0),vec2(.007,.022))),-v(l-vec2(0,.01),vec2(.06,.002))),max(-v(l-vec2(.025,-.005),vec2(.01,.007)),length(vec2(l.x-.019,l.y+.005-.007)*vec2(.65,1))-.009)),max(-v(l-vec2(.01,-.005),vec2(.01,.007)),length(vec2(l.x-.019,l.y+.005+.007)*vec2(.65,1))-.009)),-(length(vec2(l.x-.019,max(0,abs(l.y+.0055)-.007)))-.005)),v(m(0)*(l-vec2(.019,-.005-(l.x-.019)/2)),vec2(.0047,.004)),1536),max(-(length(vec2(l.x-.0735,max(0,abs(l.y+.006)-.006)))-.005),length((l-vec2(.0735,-.006))*vec2(.9,1))-.015)),v(l-vec2(.1,-.006),vec2(.007,.015))),length(vec2(l.x-.118,max(0,abs(l.y+.012)-.009)))-.013),-(length(vec2(l.x-.112,max(0,abs(l.y+.012)-.01)))-.005)),-l.y-.021)+.0003;"
 "}"
 "float n(vec4 v,vec2 l)"
 "{"
   "return length(max(vec4(0),vec4((m(v.x)*l).x,(m(v.y)*-l).x,length(l)-v.z,-length(l)+v.w)));"
 "}"
 "float m(vec3 y,float l,float x,float z,bool a)"
 "{"
   "vec3 i=y;"
   "float s=.69;"
   "i.xy-=vec2(.29,-.745);"
   "i.xy=m(s)*i.xy;"
   "vec2 n=vec2(.04,.05),f=i.xy;"
   "i.xy=mod(i.xy,n)-n/2;"
   "float r=v(vec2(length(i.xy),i.z),vec2(x,l))-z;"
   "r=max(r,abs(f.y-.05)-(a?.3:.15));"
   "if(a)"
     "r=max(r,abs(f.x-.04)-.13);"
   "f.xy=m(-s)*f.xy;"
   "r=max(r,abs(f.x-.12+n.x)-.125);"
   "r=max(r,abs(f.y-f.x*.2+.015+(a?-.03:0))-.1265);"
   "return r;"
 "}"
 "float x(float l,float m)"
 "{"
   "return m=clamp(m/l,0,1),(m*-2+3)*m*m;"
 "}"
 "vec4 x(vec3 l)"
 "{"
   "l.x+=.625;"
   "float y=floor(l.x/1.25);"
   "if(y==0)"
     "l.z-=.28;"
   "l.x=mod(l.x,1.25)-.625;"
   "l.xz=l.xz*m(-.5*y);"
   "vec2 i=l.xy;"
   "i.x=abs(i.x);"
   "float a=m(m(i.x-.55,length(i-vec2(0,.8))-1.76,49),i.y-.95,83.2),z=l.z-.14,f=-l.z-.09-(1-(x(.9,l.y+.3+.1)+x(.55,-(l.y+.3+.17))))*.17,s=m(m(i.x-.48,length(i-vec2(0,2.5))-2.5,117),i.y-.87,80);"
   "if(l.z>.01)"
     "z+=mix(.02,pow(max(0,v(l.xy-vec2(0,.25+pow(abs(l.x),3)),vec2(.32,.94))-.05)*100,1.3)/1500,1-x(-.001,s));"
   "if(l.z<0)"
     "f=v(f,m(l-vec3(0,0,-.1),vec3(.5,.5,.055))-.04,64);"
   "i.x-=.09;"
   "i.y+=.635;"
   "a=m(a,z,192);"
   "float r=a,c=.001+v(length(i)-.01,v(length(i-vec2(.036,0))-.01,length(i-vec2(-.036,0))-.01,40),40);"
   "a=m(a,-l.z-.09,64);"
   "if(l.z<0)"
     "a=v(a,m(r+.03,f,64),256);"
   "r=1;"
   "a=m(m(a,min(l.z,-c+.003),256),min(l.z,-abs(s)-.001),448);"
   "a=m(a,min(l.z-.13,-v(l.xy-vec2(0,-.118))),512);"
   "a=m(a,min(l.z-.13,-abs(length(vec2(max(abs(l.x)-.12,0),l.y+.117))-.035)+.003),512);"
   "a=m(m(a,min(1,-min(1,max(m(abs(l.x)-.31,abs(l.y-.49)-.29,500),abs(l.z-.185)-.1))+.004),576),-abs(l.z-.01)-.0001,384);"
   "if(l.y<0)"
     "{"
       "if(l.y<-.5)"
         "a+=(1-smoothstep(-.001,.002,m(l+vec3(0,.03,-.2),.13,.007,.001,true)))*.005,a=m(a,-m(l+vec3(0,0,-.2),.13,.007,.001,false),1024);"
       "vec2 d=vec2(-.32,-.314),p=vec2(.124,.033);"
       "float h=length(l.xy-vec2(.405,-.28))-.07,t=length(l.xy-vec2(.202,-.345))-.07,e=v(v(l.xy-d,p)-.005,v(l.xy-d,p.yx)-.005,512);"
       "a=m(a,min(l.z,-h+.004),320);"
       "a=m(a,min(l.z,-t+.004),320);"
       "a=m(a,min(l.z,-min(1,e)+.006),192);"
       "l.xy-=vec2(.405,-.28);"
       "float g=(1-x(.002,min(min(n(l.xy,vec2(0,-.035),vec2(-.014,.024)),n(l.xy,vec2(-.03,-.035),vec2(-.014,.024))),n(l.xy,vec2(-.02,-.02),vec2(-.01,-.02)))-.0025))*.002;"
       "l.xy+=vec2(.405,-.28);"
       "l.xy-=vec2(.202,-.345);"
       "float w=min(min(min(n(l.xy,vec2(-.03,-.035),vec2(-.03,.024)),n(l.xy,vec2(-.03,-.035),vec2(-.018,-.035))),n(l.xy,vec2(-.03,.024),vec2(-.018,.024))),n(l.xy,vec2(-.03,-.0055),vec2(-.018,-.0055)));"
       "if(l.x>-.018)"
         "w=min(min(w,abs(length(l.xy-vec2(-.018,-.02025))-.059/4)),abs(length(l.xy-vec2(-.018,.00925))-.059/4));"
       "w=(1-x(.002,w-.0025))*.002;"
       "l.xy+=vec2(.202,-.345);"
       "float k=max(-l.z,m(abs(l.z)-.17,max(-.015,c),96)),b=min(max(-l.z,m(abs(l.z)-.17+w,t,128)),max(-l.z,m(abs(l.z)-.17+g,h,128)));"
       "vec3 o=l;"
       "o.z-=pow(length(l.xy-d),2)/2-.01;"
       "b=m(min(b,max(-l.z,m(abs(o.z)-.18,e,768))),-(length(o-vec3(d,.19))-.026),512);"
       "o.xy-=d;"
       "o.xy=abs(o.xy);"
       "if(o.x<o.y)"
         "o.xy=o.yx;"
       "o.x-=.075;"
       "o.z-=.178;"
       "i=o.yx;"
       "float u=sqrt(3);"
       "i.x=abs(i.x)-1;"
       "i.y=i.y+1/u;"
       "if(i.x+u*i.y>0)"
         "i=vec2(i.x-u*i.y,-u*i.x-i.y)/2;"
       "i.x-=clamp(i.x,-2,0);"
       "b=m(b,-max(-o.z,-length(i)*sign(i.y)+.565),512);"
       "if(b<a)"
         "a=b,r=2;"
       "if(k<a)"
         "{"
           "a=k;"
           "r=3;"
           "if(abs(length(l.xy-vec2(-.09,-.635))-.015)<.005||n(l.xy-vec2(.09,-.635),vec2(0,.015),vec2(0,-.015))<.005)"
             "r=3.1;"
         "}"
     "}"
   "if(m(l-vec3(0,.4,0),vec3(.49,.47,.1218))<0)"
     "r=4;"
   "return vec4(a,r+-y*8+8,l.xy);"
 "}"
 "vec2 n(vec3 v,vec3 m,vec3 l,vec3 y)"
 "{"
   "vec3 a=(mix(y,l,step(0,m*sign(y-l)))-v)/m,i=(mix(l,y,step(0,m*sign(y-l)))-v)/m;"
   "return vec2(max(a.x,max(a.y,a.z)),min(i.x,min(i.y,i.z)));"
 "}"
 "vec2 s(vec3 l,vec3 v)"
 "{"
   "float y=dot(v,v),m=2*dot(v,l),a=dot(l,l)-1,i=m*m-4*y*a;"
   "if(i<0)"
     "return vec2(-1);"
   "a=sqrt(i);"
   "return(-m+vec2(-a,a))/(2*y);"
 "}"
 "vec4 s(vec3 l,vec3 v,out vec3 y)"
 "{"
   "float m=10;"
   "vec2 i;"
   "vec3 a;"
   "vec4 f=vec4(-1);"
   "{"
     "float z=m;"
     "vec3 r=l-vec3(0,0,.2),p=v,c=vec3(1.8,.98,.4);"
     "vec2 o=n(r-vec3(0,0,.1),p,-c,c);"
     "float b=-1,d;"
     "vec4 k;"
     "if(o.x<o.y&&o.y>0&&o.x<z)"
       "{"
         "b=max(0,o.x);"
         "for(int w=0;w<60;++w)"
           "{"
             "k=x(r+p*b);"
             "d=k.x;"
             "if(b>o.y||abs(d)<1e-05)"
               "break;"
             "b+=d;"
           "}"
         "if(b<o.y||b<0)"
           "{"
             "vec3 w=vec3(.002,0,0),t=r+p*b;"
             "a=normalize(vec3(x(t+w.xyy).x,x(t+w.yxy).x,x(t+w.yyx).x)-d);"
             "f=vec4(b,k.yzw);"
           "}"
       "}"
   "}"
   "if(f.x>0)"
     "return y=a,f;"
   "m=-1;"
   "vec2 o=vec2(-1,-3);"
   "float r=(o.x-l.y)/v.y,b=(o.y-l.z)/v.z;"
   "vec2 d=s((l-vec3(0,o+2))*vec3(0,.5,.5),v*vec3(0,.5,.5)),p=l.yz+v.yz*d.y-(o+2);"
   "if(d.x<d.y&&d.y>0&&p.x<0&&p.y<0)"
     "y=vec3(-p*.5,0).zxy,m=d.y;"
   "else"
     " if(r>0&&(r<b||b<0))"
       "y=vec3(0,1,0),m=r;"
     "else"
       " if(b>0&&(b<r||r<0))"
         "y=vec3(0,0,1),m=b;"
   "vec3 w=l+v*m;"
   "if(abs(w.x)>5||abs(w.y)>2.5||abs(w.z)>3.3)"
     "return vec4(-1);"
   "return vec4(m,0,0,0);"
 "}"
 "float y;"
 "float m()"
 "{"
   "return fract(sin(y++)*43758.5);"
 "}"
 "vec3 h(vec3 l,vec3 v)"
 "{"
   "vec3 y=vec3(0),i=vec3(1);"
   "bool a=false;"
   "for(int r=0;r<4;++r)"
     "{"
       "v=normalize(v);"
       "vec3 z,f,p;"
       "vec4 o=s(l,v,z);"
       "float b=o.x;"
       "if(b<0)"
         "{"
           "y+=max(i*vec3(.9)*(.5+.5*dot(v,normalize(vec3(-2,4,1))))*.4*1.3*vec3(1,.9,.65)+i*vec3(.9)*step(.9,dot(v,normalize(vec3(6,2,1))))*10.4*2.3+i*vec3(.9)*step(.95,dot(v,normalize(vec3(-2,1,3))))*10.4*1.5,0)*pow(max(.5+.5*-v.z,0),.2);"
           "break;"
         "}"
       "float w=floor(o.y/8);"
       "o.y=mod(o.y,8);"
       "vec3 d=l+v*b;"
       "vec2 c=vec2(6.28319*m(),m()*2-1);"
       "vec3 k=z+vec3(sqrt(1-c.y*c.y)*vec2(cos(c.x),sin(c.x)),c.y);"
       "float e=o.y>1.5?mix(d.x>0?.1:.05,.5,pow(1-clamp(dot(-v,z),0,1),2)):mix(.2,.8,pow(1-clamp(dot(-v,z),0,1),1.5));"
       "if(o.y>5.5&&o.y<6.5)"
         "{"
           "if(a)"
             "break;"
           "l=d+z*.0002;"
           "i*=mix(.1,.8,pow(1-clamp(dot(-v,z),0,1),3))*mix(vec3(1),vec3(1,.9,.5),.5);"
           "v=reflect(v,z)+(vec3(m(),m(),m())-.5)*.3;"
         "}"
       "else"
         " if(o.y>4.5&&o.y<5.5)"
           "{"
             "if(a)"
               "break;"
             "e=.02;"
             "if(m()>e)"
               "l=d-z*.0002*-sign(v.z),v=v+(vec3(m(),m(),m())-.5)*.1;"
             "else"
               " l=d+z*.0002,v=reflect(v,z)+(vec3(m(),m(),m())-.5)*.3;"
           "}"
         "else"
           " if(o.y<.5||o.y>2.5)"
             "{"
               "vec3 t=o.y>2.5?vec3(.08):vec3(.7);"
               "if(o.y>3.5)"
                 "{"
                   "t=vec3(.008);"
                   "if(!a)"
                     "{"
                       "if(d.y>.5)"
                         "{"
                           "vec2 h=o.zw-vec2(-.38,.6);"
                           "float g=min(min(min(min(min(min(max(length(h-vec2(.005,.005))-.0125,-(length(h-vec2(-.012,.005))-.025)),max(length(h-vec2(-.02,.005))-.0125,-(length(h-vec2(-.045,.005))-.03))),max(length(h-vec2(.005,.005))-.0125,-(length(h-vec2(-.012,.005))-.025))),max(length(h-vec2(.03,.005))-.0125,-(length(h-vec2(.02,.005))-.02))),abs(length(h-vec2(-.037,-.0398))-.0104)),n(h,vec2(-.064,-.05),vec2(-.064,-.03))),max(-h.x-.063,abs(length(vec2(max(0,h.x+.06),h.y+.035))-.006)));"
                           "h.x-=.091;"
                           "g=min(g,n(h,vec2(-.064,-.05),vec2(-.064,-.03)));"
                           "g=min(g,max(-h.x-.063,abs(length(vec2(max(0,h.x+.06),h.y+.035))-.006)));"
                           "g=min(g,n(h,vec2(-.054,-.05),vec2(-.059,-.041)));"
                           "h.x+=.091;"
                           "g=min(g,n(h,vec2(.009,-.05),vec2(.009,-.03)));"
                           "g=min(g,n(h,vec2(.009,-.05),vec2(.018,-.05)));"
                           "g=min(g,n(h,vec2(.009,-.03),vec2(.018,-.03)));"
                           "g=min(g,n(h,vec2(.009,-.039),vec2(.018,-.039)));"
                           "h.x=abs(h.x+.01);"
                           "h.x=abs(h.x-.006);"
                           "g=min(g,n(h,vec2(0,-.05),vec2(.006,-.03)));"
                           "t=mix(t,vec3(.3),step(g-.0018,0));"
                         "}"
                       "if(length(o.zw-vec2(-.43,.605))<.014)"
                         "y+=i*3*vec3(1,.01,.01)*(.8+8*(1-x(.01,length(o.zw-vec2(-.43,.605)))));"
                       "if(o.w>0&&d.y<.2)"
                         "{"
                           "t=mix(t,vec3(.3),step(n(o.zw-vec2(0,.103)),0));"
                           "{"
                             "vec2 g=vec2(-.07,.02),h=vec2(-.09,.03),u=vec2(-.1,0),q=u+normalize(u-h)*.03,C=vec2(-.065,-.026);"
                             "t=mix(t,vec3(.520661,.00153787,.064975),step(min(m(o.zw-vec2(.16,.103),u,q,C),m(o.zw-vec2(.16,.103),g,h,u))-.007,0));"
                           "}"
                           "{"
                             "vec2 h=o.zw-vec2(.16,.103);"
                             "h-=vec2(-.029,-.015);"
                             "h.x+=cos(h.y*30)*.01;"
                             "h.y-=cos(h.x*20)*.01;"
                             "t=mix(t,vec3(.093564,.0865052,.434048),step(abs(length(h)-.02)-.007,0));"
                           "}"
                           "{"
                             "vec2 h=o.zw-vec2(.16,.103),g=vec2(-.01,.02),u=vec2(-.007,0),q=vec2(-.007,-.0205),C=q+normalize(q-u)*.01,F=vec2(.02,-.02);"
                             "t=mix(t,vec3(.186082,.481799,.0177778),step(min(m(h,q,C,F),m(h,g,u,q))-.007,0));"
                           "}"
                           "{"
                             "vec2 h=o.zw-vec2(.16,.103);"
                             "h-=vec2(.045,-.015);"
                             "h.x+=cos(h.y*20+1)*.005;"
                             "h.y-=cos(h.x*20+25)*.01;"
                             "t=mix(t,vec3(.730857,.454964,.000553633),step(abs(length(h)-.02)-.007,0));"
                           "}"
                           "{"
                             "vec2 h=o.zw-vec2(.24,.103),g=vec2(-.006,-.026),u=vec2(-.002,0),q=vec2(-.007,.016),C=q+normalize(q-u)*.012,F=vec2(.02,.02),T=C+normalize(F-C)*.05,Z=vec2(.002,-.007),Y=vec2(.025,-.028);"
                             "t=mix(t,vec3(0,.332318,.292872),step(min(min(min(m(h,q,C,F),m(h,g,u,q)),m(h,F,T,Z)),m(h,Z,(Z+Y)/2+vec2(.001),Y))-.007,0));"
                           "}"
                         "}"
                       "{"
                         "vec2 h=vec2(160,144)/1.5,g=(o.zw-vec2(-.001,.486))*3.75*vec2(h.y/h.x,1)*.5+.5,u=fract(g*h);"
                         "g=floor(g*h)/h;"
                         "if(max(abs(g.x-.5),abs(g.y-.5))<.5)"
                           "{"
                             "vec3 q=vec3(0);"
                             "vec2 C=(g*2-1)*vec2(h.x/h.y,1);"
                             "float F=min(min(min(min(min(min(min(min(min(min(min(min(min(min(min(min(min(n(vec4(1.54,.53,.91,.72),C),n(vec4(.63,.78,.91,.72),C)),n(vec4(.61,1.675,.72,.64),C)),n(vec4(2.7,3.11,.72,.64),C)),n(vec4(3.45,3.65,.72,.64),C)),n(vec4(4.71,5.02,.72,.64),C)),n(vec4(5.3,5.51,.72,.64),C)),n(vec4(5.96,6.43,.72,.64),C)),n(vec4(3.2,1.27,.45,.35),C)),n(vec4(1.3,2.3,.45,.35),C)),n(vec4(2.58,4.2,.45,.35),C)),n(vec4(3.2,3.95,.35,.25),C)),n(vec4(5.2,5.93,.35,.25),C)),n(vec4(7.9,8.15,.35,.25),C)),n(vec4(.2,1.16,.32,.17),C)),max(length(C)-.84,-length(C)+.72)),max(length(C)-.52,-length(C)+.45)),max(length(C)-.17,-length(C)+.08)),Z=floor(g.y*8);"
                             "q=.5+.5*cos(vec3(.8,.3,2)*(Z+1));"
                             "q=mix(q,vec3(1),step(F,0));"
                             "q*=vec3(1,1,.8);"
                             "q*=smoothstep(.1,.2,u.x)*smoothstep(.1,.2,u.y);"
                             "y+=i*3*q;"
                             "t=vec3(.1);"
                           "}"
                       "}"
                     "}"
                 "}"
               "if(o.y>3&&o.y<3.2)"
                 "t=vec3(.4);"
               "i*=t;"
               "l=d+z*.0002;"
               "v=k;"
               "a=true;"
             "}"
           "else"
             "{"
               "vec3 h=w>1.5?vec3(1,.02,.2):w>.5?vec3(.2,1,.02):vec3(.02,.2,1);"
               "if(m()>mix(.2,1,e))"
                 "{"
                   "if(o.y>1.5)"
                     "h=vec3(.02);"
                   "i*=h;"
                   "l=d+z*.0002;"
                   "v=k;"
                   "a=true;"
                 "}"
               "else"
                 "{"
                   "if(a)"
                     "break;"
                   "i*=o.y>1.5?vec3(.5):.9*mix(h,vec3(1),.25);"
                   "l=d+z*.0002;"
                   "v=reflect(v,z)+(vec3(m(),m(),m())-.5)*.4;"
                 "}"
             "}"
       "if(max(i.x,max(i.y,i.z))<.001)"
         "break;"
     "}"
   "return y;"
 "}"
 "void main()"
 "{"
   "vec3 l=vec3(0);"
   "for(int v=0;v<16;++v)"
     "{"
       "y=float(v)+gl_TexCoord[0].x*16;"
       "float a=m()*6.28319;"
       "vec2 i=vec2(cos(a),sin(a))*sqrt(1-sqrt(1-m()))*1.2;"
       "if(int(y)%4==0)"
         "i*=15*length(i);"
       "l+=h(vec3(0,0,4.8),vec3((gl_FragCoord.xy-vec2(960,540)+i)/540,-3.5))/48;"
     "}"
   "l/=(l+1)/2;"
   "gl_FragColor.xyz=pow(l+.01*vec3(1,1,.5),vec3(1/2.2))+m()/100;"
 "}";
